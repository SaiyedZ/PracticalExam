<%- include('layout') %>

<h2 class="text-center mb-4 text-white"><%= task ? 'Edit Task' : 'Create Task' %></h2>
<form
  action="<%= task ? `/tasks/${task._id}?_method=PUT` : '/tasks' %>"
  method="POST"
  class="bg-dark text-white p-4 rounded shadow-sm"
>
  <div class="mb-3">
    <label for="title" class="form-label">Title</label>
    <input
      type="text"
      class="form-control"
      name="title"
      value="<%= task ? task.title : '' %>"
      required
    />
  </div>
  <div class="mb-3">
    <label for="description" class="form-label">Description</label>
    <textarea class="form-control" name="description" rows="3" required>
      <%= task ? task.description : '' %>
    </textarea>
  </div>
  <div class="mb-3">
    <label for="status" class="form-label">Status</label>
    <select class="form-select" name="status">
      <option value="pending" <%= task && task.status === 'pending' ? 'selected' : '' %>>Pending</option>
      <option value="in-progress" <%= task && task.status === 'in-progress' ? 'selected' : '' %>>In Progress</option>
      <option value="completed" <%= task && task.status === 'completed' ? 'selected' : '' %>>Completed</option>
    </select>
  </div>
  <button type="submit" class="btn btn-register w-100">Save Task</button>
</form>

<!-- Add the gradient button style for consistency -->
<style>
  /* Custom gradient button */
  .btn-register {
    background: linear-gradient(to right, #ff7e5f, #feb47b); /* Gradient color */
    color: white;
    border: none;
    font-weight: bold;
  }
  .btn-register:hover {
    background: linear-gradient(to right, #feb47b, #ff7e5f); /* Reversed gradient on hover */
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
  }
</style>
