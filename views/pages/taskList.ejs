<%- include('layout') %>

<div class="container mt-5">
  <h2 class="text-center mb-4 text-white">My Tasks</h2>
  
  <a href="/tasks/new" class="btn btn-register w-100 mb-4">Add New Task</a>

  <ul class="list-group mt-4">
    <% tasks.forEach(task => { %>
      <li class="list-group-item bg-dark text-white mb-3 p-3 rounded">
        <div class="d-flex justify-content-between">
          <div>
            <h5><%= task.title %></h5>
            <p><%= task.description %></p>
            <span class="badge bg-secondary"><%= task.status %></span>
          </div>
          <div>
            <a href="/tasks/<%= task._id %>/edit" class="btn btn-sm btn-warning mb-2">Edit</a>
            <form
              action="/tasks/<%= task._id %>?_method=DELETE"
              method="POST"
              class="d-inline"
            >
              <button type="submit" class="btn btn-sm btn-danger">Delete</button>
            </form>
          </div>
        </div>
      </li>
    <% }) %>
  </ul>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
